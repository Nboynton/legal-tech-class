(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{125:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return i})),t.d(n,"metadata",(function(){return l})),t.d(n,"rightToc",(function(){return s})),t.d(n,"default",(function(){return u}));var a=t(1),r=t(6),o=(t(0),t(197)),i={id:"controlling-interview-order",title:"Controlling Interview Order",sidebar_label:"Controlling Interview Order"},l={id:"practical-guide-docassemble/controlling-interview-order",isDocsHomePage:!1,title:"Controlling Interview Order",description:"The interview as a question library",source:"@site/docs/practical-guide-docassemble/controlling-interview-order.md",permalink:"/legal-tech-class/docs/practical-guide-docassemble/controlling-interview-order",editUrl:"https://github.com/suffolklitlab/legal-tech-class/edit/master/class/docs/practical-guide-docassemble/controlling-interview-order.md",sidebar_label:"Controlling Interview Order",sidebar:"someSidebar",previous:{title:"What should you use Docassemble for?",permalink:"/legal-tech-class/docs/practical-guide-docassemble/practical-guide-docassemble"},next:{title:"Object Oriented Programming in Docassemble",permalink:"/legal-tech-class/docs/practical-guide-docassemble/object-oriented-programming"}},s=[{value:"The interview as a question library",id:"the-interview-as-a-question-library",children:[{value:"What happened?",id:"what-happened",children:[]}]},{value:"Who&#39;s the boss? Why you should use only one mandatory block",id:"whos-the-boss-why-you-should-use-only-one-mandatory-block",children:[{value:"What happened?",id:"what-happened-1",children:[]}]},{value:"The interview order block",id:"the-interview-order-block",children:[]}],c={rightToc:s};function u(e){var n=e.components,t=Object(r.a)(e,["components"]);return Object(o.b)("wrapper",Object(a.a)({},c,t,{components:n,mdxType:"MDXLayout"}),Object(o.b)("h2",{id:"the-interview-as-a-question-library"},"The interview as a question library"),Object(o.b)("p",null,"You can think of a docassemble interview as a library of questions.\nThe only questions that docassemble will ask are those that are triggered,\neither by a ",Object(o.b)("inlineCode",{parentName:"p"},"mandatory")," block or in some other way."),Object(o.b)("p",null,"Docassemble will scan the interview file until it finds a question\nthat contains the answer to every field that is required by any\nmandatory block. If a field isn't used in the mandatory block, or a\nblock that the mandatory block itself triggers, it will never be shown\nto the user."),Object(o.b)("p",null,"Copy and paste the interview below into your playground."),Object(o.b)("p",null,"Before you run it, make a prediction."),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},"Which questions will be asked?"),Object(o.b)("li",{parentName:"ol"},"Which question will be asked first? What will be the order of the remaining questions?")),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-yaml"}),"---\nquestion: |\n  What is the average airspeed velocity of an unladen swallow?\nfields:\n  - no label: air_speed\n---\nquestion: |\n  What is your quest?\nfields:\n  - no label: quest\n---\nquestion: |\n  What is your name?\nfields:\n  - First name: first_name\n  - Last name: last_name\n---\nmandatory: True\nquestion: |\n  Hello, ${ first_name }\nsubquestion: |\n  You said the swallow's speed is ${ air_speed }\n\n  Your first name is ${ first_name }\n")),Object(o.b)("h3",{id:"what-happened"},"What happened?"),Object(o.b)("p",null,"Docassemble only asks the ",Object(o.b)("inlineCode",{parentName:"p"},"air_speed")," and ",Object(o.b)("inlineCode",{parentName:"p"},"first_name")," questions. The ",Object(o.b)("inlineCode",{parentName:"p"},"quest"),"\nquestion wasn't used by any mandatory blocks in this interview, so it\nwas never asked."),Object(o.b)("p",null,"The first question that is asked is the ",Object(o.b)("inlineCode",{parentName:"p"},"first_name")," question. This is because\nthe one ",Object(o.b)("inlineCode",{parentName:"p"},"mandatory")," block mentions the ",Object(o.b)("inlineCode",{parentName:"p"},"first_name")," field before it mentions any\nother fields."),Object(o.b)("p",null,"As you can imagine, the incidental order of fields on your final screen doesn't always\ndictate the most logical or pleasant order for questions in a lengthy interview.\nThere are other ways to control the order of questions in a more fine-grained way."),Object(o.b)("h2",{id:"whos-the-boss-why-you-should-use-only-one-mandatory-block"},"Who's the boss? Why you should use only one mandatory block"),Object(o.b)("p",null,"There are a lot of ways to ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"https://docassemble.org/docs/logic.html"}),"control the\norder")," of questions in a docassemble\ninterview. For example: you can use a ",Object(o.b)("inlineCode",{parentName:"p"},"mandatory")," modifier on many questions,\nand the ",Object(o.b)("inlineCode",{parentName:"p"},"if")," modifier to handle optional questions. Alternatively, you can\nuse the ",Object(o.b)("inlineCode",{parentName:"p"},"need")," modifier on multiple individual blocks."),Object(o.b)("p",null,"It's a good habit to use only ",Object(o.b)("strong",{parentName:"p"},"one")," mandatory block in your interview."),Object(o.b)("p",null,"Using one mandatory block can allow you to:"),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},"Visualize and trace your interview logic in one place"),Object(o.b)("li",{parentName:"ol"},"Better understand which code will end up executing and which will not")),Object(o.b)("p",null,"Copy and paste the interview below into your playground. Before you run it,\nmake a prediction."),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},"What will be the last screen that is shown to the user?"),Object(o.b)("li",{parentName:"ol"},"What action will happen when the interview is complete?")),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-yaml"}),'---\nmandatory: True\nquestion: |\n  Please answer our intake questionnaire\ncontinue button field: introduction\n---\nmandatory: True\nquestion: |\n  Tell us your name\nfields:\n  - First name: user_first_name\n  - Last name: user_last_name\n---\nmandatory: True\nquestion: |\n  How old are you?\nfields:\n  - birthdate: birthday\n    datatype: date\n---\nmandatory: True\nquestion: |\n  Results\nsubquestion: |\n  Thank you, ${user_first_name}.\n  \n  We will send your results to Dewey, Cheatem and Howe.\n---\ntemplate: email_contents\ncontent: |\n  Here is the intake\n  \n  First name: ${ user_first_name }  \n  Last name: ${ user_last_name }\n\n  Birthdate: ${birthday}\n---\nmandatory: True\ncode: |\n  send_email(to="dewey@example.com", template=email_contents)\n')),Object(o.b)("h3",{id:"what-happened-1"},"What happened?"),Object(o.b)("p",null,'Mandatory blocks are read from "top to bottom" of the interview file.'),Object(o.b)("p",null,'In the interview above, all of the blocks are mandatory. But the code block\nthat sends an email will never run. Why? It can only run after the last screen\nis shown. But docassemble pauses on the "results" screen indefinitely.'),Object(o.b)("h2",{id:"the-interview-order-block"},"The interview order block"),Object(o.b)("p",null,'I often call the code block that I use to control question order the "interview order" block.\nThere is no official name for it; in HotDocs and its predecessors, this would be called the\nINTERVIEW computation. Here\'s an example:'),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-yaml"}),"---\nmandatory: True\ncode: |\n\n")),Object(o.b)("p",null,"Quinten Steenhuis, June 2020"))}u.isMDXComponent=!0},197:function(e,n,t){"use strict";t.d(n,"a",(function(){return d})),t.d(n,"b",(function(){return h}));var a=t(0),r=t.n(a);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var c=r.a.createContext({}),u=function(e){var n=r.a.useContext(c),t=n;return e&&(t="function"==typeof e?e(n):l({},n,{},e)),t},d=function(e){var n=u(e.components);return r.a.createElement(c.Provider,{value:n},e.children)},b={inlineCode:"code",wrapper:function(e){var n=e.children;return r.a.createElement(r.a.Fragment,{},n)}},p=Object(a.forwardRef)((function(e,n){var t=e.components,a=e.mdxType,o=e.originalType,i=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),d=u(t),p=a,h=d["".concat(i,".").concat(p)]||d[p]||b[p]||o;return t?r.a.createElement(h,l({ref:n},c,{components:t})):r.a.createElement(h,l({ref:n},c))}));function h(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var o=t.length,i=new Array(o);i[0]=p;var l={};for(var s in n)hasOwnProperty.call(n,s)&&(l[s]=n[s]);l.originalType=e,l.mdxType="string"==typeof e?e:a,i[1]=l;for(var c=2;c<o;c++)i[c]=t[c];return r.a.createElement.apply(null,i)}return r.a.createElement.apply(null,t)}p.displayName="MDXCreateElement"}}]);